{
  "project_summary": "The project consists of an Express server with routes for authentication and posts. The authentication route handles user signup and login, while the post route manages CRUD operations on posts.",
  "flows": [
    {
      "flow_name": "User Signup Process (Data Flow)",
      "sequence": [
        {
          "step": 1,
          "file_context": "Where are we?",
          "from": {
            "file": "router/auth.js",
            "code_snippet": "router.post('/signup', ...)",
            "focus_word": "signup"
          },
          "to": {
            "file": "controller/authController.js",
            "code_snippet": "export async function signup(req, res)...",
            "focus_word": "signup"
          },
          "data_transferred": "req.body (userid, password, name, email, url)",
          "beginner_explanation": "1. The Router receives the user's data. 2. It passes the data to the Controller's 'signup' function to handle the logic."
        },
        {
          "step": 2,
          "file_context": "Logic Processing",
          "from": {
            "file": "controller/authController.js",
            "code_snippet": "const user = await authRepository.createUser(...)",
            "focus_word": "createUser"
          },
          "to": {
            "file": "data/authRepository.js",
            "code_snippet": "export async function createUser(user) { ... }",
            "focus_word": "createUser"
          },
          "data_transferred": "User Info Object",
          "beginner_explanation": "The Controller asks the Repository to save the new user to the Database. It waits (await) for the database to finish.",
          "return_expected": "The created User ID"
        }
      ]
    },
    {
      "flow_name": "User Login Process (Data Flow)",
      "sequence": [
        {
          "step": 1,
          "file_context": "Where are we?",
          "from": {
            "file": "router/auth.js",
            "code_snippet": "router.post('/login', ...)",
            "focus_word": "login"
          },
          "to": {
            "file": "controller/authController.js",
            "code_snippet": "export async function login(req, res)...",
            "focus_word": "login"
          },
          "data_transferred": "req.body (userid, password)",
          "beginner_explanation": "1. The Router receives the user's data. 2. It passes the data to the Controller's 'login' function to handle the logic."
        },
        {
          "step": 2,
          "file_context": "Logic Processing",
          "from": {
            "file": "controller/authController.js",
            "code_snippet": "const user = await authRepository.findByUserid(userid);",
            "focus_word": "findByUserid"
          },
          "to": {
            "file": "data/authRepository.js",
            "code_snippet": "export async function findByUserid(userid) { ... }",
            "focus_word": "findByUserid"
          },
          "data_transferred": "User Info Object",
          "beginner_explanation": "The Controller queries the Repository to find the user by their ID. It returns the user object if found."
        },
        {
          "step": 3,
          "file_context": "Logic Processing",
          "from": {
            "file": "controller/authController.js",
            "code_snippet": "const isVaildPassword = await bcrypt.compare(password, user.password);",
            "focus_word": "compare"
          },
          "to": {
            "file": "node_modules/bcrypt/index.js",
            "code_snippet": "export async function compare(password, hash) { ... }",
            "focus_word": "compare"
          },
          "data_transferred": "Password and Hash",
          "beginner_explanation": "The Controller compares the provided password with the stored hashed password using bcrypt. It returns a boolean indicating whether the passwords match."
        },
        {
          "step": 4,
          "file_context": "Logic Processing",
          "from": {
            "file": "controller/authController.js",
            "code_snippet": "if (!isVaildPassword) { return res.status(401).json({ message: `아이디 또는 비밀번호 확인` }); }",
            "focus_word": "status"
          },
          "to": {
            "file": "router/auth.js",
            "code_snippet": "res.status(401).json(AUTH_ERROR);",
            "focus_word": "AUTH_ERROR"
          },
          "data_transferred": "Status Code and Message",
          "beginner_explanation": "If the passwords do not match, the Controller sends a 401 Unauthorized response with an error message."
        },
        {
          "step": 5,
          "file_context": "Logic Processing",
          "from": {
            "file": "controller/authController.js",
            "code_snippet": "const token = await createJwtToken(user.id);",
            "focus_word": "createJwtToken"
          },
          "to": {
            "file": "middleware/auth.mjs",
            "code_snippet": "jwt.verify(token, config.jwt.secretKey, async (error, decoded) => { ... })",
            "focus_word": "verify"
          },
          "data_transferred": "Token",
          "beginner_explanation": "The Controller generates a JWT token using the user's ID and sends it in the response."
        },
        {
          "step": 6,
          "file_context": "Logic Processing",
          "from": {
            "file": "middleware/auth.mjs",
            "code_snippet": "next();",
            "focus_word": "next"
          },
          "to": {
            "file": "router/auth.js",
            "code_snippet": "next();",
            "focus_word": "next"
          },
          "data_transferred": "Next Middleware",
          "beginner_explanation": "The Controller calls the next middleware in the chain to continue processing the request."
        }
      ]
    }
  ]
}